{"version":3,"file":"module-speech-recognize-index.js","names":["idUrl","idForm","className","inputClassName","ModuleSpeechRecognize","$formObj","$","$checkBoxes","$dropDowns","saveTableAJAXUrl","globalRootUrl","deleteRecordAJAXUrl","$disabilityFields","$statusToggle","$moduleStatus","validateRules","textField","identifier","rules","type","prompt","globalTranslate","mod_tplValidateValueIsEmpty","areaField","passwordField","initialize","window","checkbox","dropdown","checkStatusToggle","addEventListener","initializeForm","tab","makeDropdownList","selectType","selected","values","name","value","each","index","obj","push","text","changeGroupInList","choice","tdInput","closest","find","attr","currentRowId","tableName","replace","undefined","sendChangesToServer","initTable","options","columns","columnsArray4Sort","colName","data","DataTable","ajax","url","ajaxUrl","dataSrc","paging","sDom","deferRender","pageLength","infoCallback","settings","start","end","max","total","pre","language","SemanticLocalization","dataTableLocalisation","ordering","createdRow","row","cols","headers","key","indexOf","eq","html","templateDeleteButton","id","DT_RowId","bt_ToolTipDelete","addClass","template","additionalClass","header","selectMetaData","newTemplate","drawCallback","drowSelectGroup","sTableId","body","on","e","target","transition","removeClass","document","keyCode","which","hasClass","endEditInput","preventDefault","deleteRow","addNewRow","cbOnDrop","table","priorityWasChanged","priorityData","ruleId","oldPriority","parseInt","newPriority","rowIndex","isNaN","api","concat","method","$el","idTable","remove","Math","floor","random","rowTemplate","before","tableId","hide","selestGroup","onChange","tableDnD","onDrop","onDragClass","dragHandle","substr","onSuccess","response","success","length","append","recordId","notEmpty","val","successTest","Object","keys","rowId","onFailure","message","UserMessage","showMultiString","onError","errorMessage","element","xhr","status","location","show","applyConfigurationChanges","changeStatus","Config","pbxUrl","result","cbBeforeSendForm","form","cbAfterSendForm","Form","module_speech_recognizeConnected","module_speech_recognizeDisconnected","module_speech_recognizeUpdateStatus","ready"],"sources":["src/module-speech-recognize-index.js"],"sourcesContent":["/*\n * Copyright (C) MIKO LLC - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential\n * Written by Nikolay Beketov, 11 2018\n *\n */\nconst idUrl     = 'module-speech-recognize';\nconst idForm    = 'module-speech-recognize-form';\nconst className = 'ModuleSpeechRecognize';\nconst inputClassName = 'mikopbx-module-input';\n\n/* global globalRootUrl, globalTranslate, Form, Config */\nconst ModuleSpeechRecognize = {\n\t$formObj: $('#'+idForm),\n\t$checkBoxes: $('#'+idForm+' .ui.checkbox'),\n\t$dropDowns: $('#'+idForm+' .ui.dropdown'),\n\tsaveTableAJAXUrl: globalRootUrl + idUrl + \"/saveTableData\",\n\tdeleteRecordAJAXUrl: globalRootUrl + idUrl + \"/delete\",\n\t$disabilityFields: $('#'+idForm+'  .disability'),\n\t$statusToggle: $('#module-status-toggle'),\n\t$moduleStatus: $('#status'),\n\t/**\n\t * Field validation rules\n\t * https://semantic-ui.com/behaviors/form.html\n\t */\n\tvalidateRules: {\n\t\ttextField: {\n\t\t\tidentifier: 'text_field',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.mod_tplValidateValueIsEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tareaField: {\n\t\t\tidentifier: 'text_area_field',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.mod_tplValidateValueIsEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tpasswordField: {\n\t\t\tidentifier: 'password_field',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.mod_tplValidateValueIsEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t},\n\t/**\n\t * On page load we init some Semantic UI library\n\t */\n\tinitialize() {\n\t\t// инициализируем чекбоксы и выподающие менюшки\n\t\twindow[className].$checkBoxes.checkbox();\n\t\twindow[className].$dropDowns.dropdown();\n\t\twindow[className].checkStatusToggle();\n\t\twindow.addEventListener('ModuleStatusChanged', window[className].checkStatusToggle);\n\t\twindow[className].initializeForm();\n\t\t$('.menu .item').tab();\n\t},\n\t/**\n\t * Подготавливает список выбора\n\t * @param selected\n\t * @returns {[]}\n\t */\n\tmakeDropdownList(selectType, selected) {\n\t\tconst values = [\n\t\t\t{\n\t\t\t\tname: ' --- ',\n\t\t\t\tvalue: '',\n\t\t\t\tselected: ('' === selected),\n\t\t\t}\n\t\t];\n\t\t$('#'+selectType+' option').each((index, obj) => {\n\t\t\tvalues.push({\n\t\t\t\tname: obj.text,\n\t\t\t\tvalue: obj.value,\n\t\t\t\tselected: (selected === obj.value),\n\t\t\t});\n\t\t});\n\t\treturn values;\n\t},\n\t/**\n\t * Обработка изменения группы в списке\n\t */\n\tchangeGroupInList(value, text, choice) {\n\t\tlet tdInput = $(choice).closest('td').find('input');\n\t\ttdInput.attr('data-value', \tvalue);\n\t\ttdInput.attr('value', \t\tvalue);\n\t\tlet currentRowId = $(choice).closest('tr').attr('id');\n\t\tlet tableName    = $(choice).closest('table').attr('id').replace('-table', '');\n\t\tif (currentRowId !== undefined && tableName !== undefined) {\n\t\t\twindow[className].sendChangesToServer(tableName, currentRowId);\n\t\t}\n\t},\n\n\t/**\n\t * Add new Table.\n\t */\n\tinitTable(tableName, options) {\n\t\tlet columns = [];\n\t\tlet columnsArray4Sort = []\n\t\tfor (let colName in options['cols']) {\n\t\t\tcolumns.push( {data: colName});\n\t\t\tcolumnsArray4Sort.push(colName);\n\t\t}\n\t\t$('#' + tableName).DataTable( {\n\t\t\tajax: {\n\t\t\t\turl: idUrl + options.ajaxUrl + '?table=' +tableName.replace('-table', ''),\n\t\t\t\tdataSrc: 'data'\n\t\t\t},\n\t\t\tcolumns: columns,\n\t\t\tpaging: true,\n\t\t\tsDom: 'rtip',\n\t\t\tdeferRender: true,\n\t\t\tpageLength: 17,\n\t\t\tinfoCallback( settings, start, end, max, total, pre ) {\n\t\t\t\treturn '';\n\t\t\t},\n\t\t\tlanguage: SemanticLocalization.dataTableLocalisation,\n\t\t\tordering: false,\n\t\t\t/**\n\t\t\t * Builder row presentation\n\t\t\t * @param row\n\t\t\t * @param data\n\t\t\t */\n\t\t\tcreatedRow(row, data) {\n\t\t\t\tlet cols    = $('td', row);\n\t\t\t\tlet headers = $('#'+ tableName + ' thead tr th');\n\t\t\t\tfor (let key in data) {\n\t\t\t\t\tlet index = columnsArray4Sort.indexOf(key);\n\t\t\t\t\tif(key === 'rowIcon'){\n\t\t\t\t\t\tcols.eq(index).html('<i class=\"ui ' + data[key] + ' circle icon\"></i>');\n\t\t\t\t\t}else if(key === 'delButton'){\n\t\t\t\t\t\tlet templateDeleteButton = '<div class=\"ui small basic icon buttons action-buttons\">' +\n\t\t\t\t\t\t\t'<a href=\"' + window[className].deleteRecordAJAXUrl + '/' +\n\t\t\t\t\t\t\tdata.id + '\" data-value = \"' + data.DT_RowId + '\"' +\n\t\t\t\t\t\t\t' class=\"ui button delete two-steps-delete popuped\" data-content=\"' + globalTranslate.bt_ToolTipDelete + '\">' +\n\t\t\t\t\t\t\t'<i class=\"icon trash red\"></i></a></div>';\n\t\t\t\t\t\tcols.eq(index).html(templateDeleteButton);\n\t\t\t\t\t}else if(key === 'priority'){\n\t\t\t\t\t\tcols.eq(index).addClass('dragHandle')\n\t\t\t\t\t\tcols.eq(index).html('<i class=\"ui sort circle icon\"></i>');\n\t\t\t\t\t\t// Приоритет устанавливаем для строки.\n\t\t\t\t\t\t$(row).attr('m-priority', data[key]);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlet template = '<div class=\"ui transparent fluid input inline-edit\">' +\n\t\t\t\t\t\t\t'<input colName=\"'+key+'\" class=\"'+inputClassName+'\" type=\"text\" data-value=\"'+data[key] + '\" value=\"' + data[key] + '\"></div>';\n\t\t\t\t\t\t$('td', row).eq(index).html(template);\n\t\t\t\t\t}\n\t\t\t\t\tif(options['cols'][key] === undefined){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet additionalClass = options['cols'][key]['class'];\n\t\t\t\t\tif(additionalClass !== undefined && additionalClass !== ''){\n\t\t\t\t\t\theaders.eq(index).addClass(additionalClass);\n\t\t\t\t\t}\n\t\t\t\t\tlet header = options['cols'][key]['header'];\n\t\t\t\t\tif(header !== undefined && header !== ''){\n\t\t\t\t\t\theaders.eq(index).html(header);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet selectMetaData = options['cols'][key]['select'];\n\t\t\t\t\tif(selectMetaData !== undefined){\n\t\t\t\t\t\tlet newTemplate = $('#template-select').html().replace('PARAM', data[key]);\n\t\t\t\t\t\tlet template = '<input class=\"'+inputClassName+'\" colName=\"'+key+'\" selectType=\"'+selectMetaData+'\" style=\"display: none;\" type=\"text\" data-value=\"'+data[key] + '\" value=\"' + data[key] + '\"></div>';\n\t\t\t\t\t\tcols.eq(index).html(newTemplate + template);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Draw event - fired once the table has completed a draw.\n\t\t\t */\n\t\t\tdrawCallback(settings) {\n\t\t\t\twindow[className].drowSelectGroup(settings.sTableId);\n\t\t\t},\n\t\t} );\n\n\t\tlet body = $('body');\n\t\t// Клик по полю. Вход для редактирования значения.\n\t\tbody.on('focusin', '.'+inputClassName, function (e) {\n\t\t\t$(e.target).transition('glow');\n\t\t\t$(e.target).closest('div').removeClass('transparent').addClass('changed-field');\n\t\t\t$(e.target).attr('readonly', false);\n\t\t})\n\t\t// Отправка формы на сервер по Enter или Tab\n\t\t$(document).on('keydown', function (e) {\n\t\t\tlet keyCode = e.keyCode || e.which;\n\t\t\tif (keyCode === 13 || keyCode === 9 && $(':focus').hasClass('mikopbx-module-input')) {\n\t\t\t\twindow[className].endEditInput();\n\t\t\t}\n\t\t});\n\n\t\tbody.on('click', 'a.delete', function (e) {\n\t\t\te.preventDefault();\n\t\t\tlet currentRowId = $(e.target).closest('tr').attr('id');\n\t\t\tlet tableName    = $(e.target).closest('table').attr('id').replace('-table', '');\n\t\t\twindow[className].deleteRow(tableName, currentRowId);\n\t\t}); // Добавление новой строки\n\n\t\t// Отправка формы на сервер по уходу с поля ввода\n\t\tbody.on('focusout', '.'+inputClassName, window[className].endEditInput);\n\n\t\t// Кнопка \"Добавить новую запись\"\n\t\t$('[id-table = \"'+tableName+'\"]').on('click', window[className].addNewRow);\n\t},\n\n\t/**\n\t * Перемещение строки, изменение приоритета.\n\t */\n\tcbOnDrop(table, row) {\n\t\tlet priorityWasChanged = false;\n\t\tconst priorityData = {};\n\t\t$(table).find('tr').each((index, obj) => {\n\t\t\tconst ruleId = $(obj).attr('id');\n\t\t\tconst oldPriority = parseInt($(obj).attr('m-priority'), 10);\n\t\t\tconst newPriority = obj.rowIndex;\n\t\t\tif (!isNaN( ruleId ) && oldPriority !== newPriority) {\n\t\t\t\tpriorityWasChanged = true;\n\t\t\t\tpriorityData[ruleId] = newPriority;\n\t\t\t}\n\t\t});\n\t\tif (priorityWasChanged) {\n\t\t\t$.api({\n\t\t\t\ton: 'now',\n\t\t\t\turl: `${globalRootUrl}${idUrl}/changePriority?table=`+$(table).attr('id').replace('-table', ''),\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: priorityData,\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Окончание редактирования поля ввода.\n\t * Не относится к select.\n\t * @param e\n\t */\n\tendEditInput(e){\n\t\tlet $el = $('.changed-field').closest('tr');\n\t\t$el.each(function (index, obj) {\n\t\t\tlet currentRowId = $(obj).attr('id');\n\t\t\tlet tableName    = $(obj).closest('table').attr('id').replace('-table', '');\n\t\t\tif (currentRowId !== undefined && tableName !== undefined) {\n\t\t\t\twindow[className].sendChangesToServer(tableName, currentRowId);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Добавление новой строки в таблицу.\n\t * @param e\n\t */\n\taddNewRow(e){\n\t\tlet idTable = $(e.target).attr('id-table');\n\t\tlet table   = $('#'+idTable);\n\t\te.preventDefault();\n\t\ttable.find('.dataTables_empty').remove();\n\t\t// Отправим на запись все что не записано еще\n\t\tlet $el = table.find('.changed-field').closest('tr');\n\t\t$el.each(function (index, obj) {\n\t\t\tlet currentRowId = $(obj).attr('id');\n\t\t\tif (currentRowId !== undefined) {\n\t\t\t\twindow[className].sendChangesToServer(currentRowId);\n\t\t\t}\n\t\t});\n\t\tlet id = \"new\"+Math.floor(Math.random() * Math.floor(500));\n\t\tlet rowTemplate = '<tr id=\"'+id+'\" role=\"row\" class=\"even\">'+table.find('tr#TEMPLATE').html().replace('TEMPLATE', id)+'</tr>';\n\t\ttable.find('tbody > tr:first').before(rowTemplate);\n\t\twindow[className].drowSelectGroup(idTable);\n\t},\n\t/**\n\t * Обновление select элементов.\n\t * @param tableId\n\t */\n\tdrowSelectGroup(tableId) {\n\t\t$('#' + tableId).find('tr#TEMPLATE').hide();\n\t\tlet selestGroup = $('.select-group');\n\t\tselestGroup.each((index, obj) => {\n\t\t\tlet selectType = $(obj).closest('td').find('input').attr('selectType');\n\t\t\t$(obj).dropdown({\n\t\t\t\tvalues: window[className].makeDropdownList(selectType, $(obj).attr('data-value')),\n\t\t\t});\n\t\t});\n\t\tselestGroup.dropdown({\n\t\t\tonChange: window[className].changeGroupInList,\n\t\t});\n\n\t\t$('#' + tableId).tableDnD({\n\t\t\tonDrop: window[className].cbOnDrop,\n\t\t\tonDragClass: 'hoveringRow',\n\t\t\tdragHandle: '.dragHandle',\n\t\t});\n\t},\n\t/**\n\t * Удаление строки\n\t * @param tableName\n\t * @param id - record id\n\t */\n\tdeleteRow(tableName, id) {\n\t\tlet table = $('#'+ tableName+'-table');\n\t\tif (id.substr(0,3) === 'new') {\n\t\t\ttable.find('tr#'+id).remove();\n\t\t\treturn;\n\t\t}\n\t\t$.api({\n\t\t\turl: window[className].deleteRecordAJAXUrl+'?id='+id+'&table='+tableName,\n\t\t\ton: 'now',\n\t\t\tonSuccess(response) {\n\t\t\t\tif (response.success) {\n\t\t\t\t\ttable.find('tr#'+id).remove();\n\t\t\t\t\tif (table.find('tbody > tr').length === 0) {\n\t\t\t\t\t\ttable.find('tbody').append('<tr class=\"odd\"></tr>');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Отправка данных на сервер при измении\n\t */\n\tsendChangesToServer(tableName, recordId) {\n\t\tlet data = { 'pbx-table-id': tableName, 'pbx-row-id':  recordId};\n\t\tlet notEmpty = false;\n\t\t$(\"tr#\"+recordId + ' .' + inputClassName).each(function (index, obj) {\n\t\t\tlet colName = $(obj).attr('colName');\n\t\t\tif(colName !== undefined){\n\t\t\t\tdata[$(obj).attr('colName')] = $(obj).val();\n\t\t\t\tif($(obj).val() !== ''){\n\t\t\t\t\tnotEmpty = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(notEmpty === false){\n\t\t\treturn;\n\t\t}\n\t\t$(\"tr#\"+recordId+\" .user.circle\").removeClass('user circle').addClass('spinner loading');\n\t\t$.api({\n\t\t\turl: window[className].saveTableAJAXUrl,\n\t\t\ton: 'now',\n\t\t\tmethod: 'POST',\n\t\t\tdata: data,\n\t\t\tsuccessTest(response) {\n\t\t\t\treturn response !== undefined && Object.keys(response).length > 0 && response.success === true;\n\t\t\t},\n\t\t\tonSuccess(response) {\n\t\t\t\tif (response.data !== undefined) {\n\t\t\t\t\tlet rowId = response.data['pbx-row-id'];\n\t\t\t\t\tlet table = $('#'+response.data['pbx-table-id']+'-table');\n\t\t\t\t\ttable.find(\"tr#\" + rowId + \" input\").attr('readonly', true);\n\t\t\t\t\ttable.find(\"tr#\" + rowId + \" div\").removeClass('changed-field loading').addClass('transparent');\n\t\t\t\t\ttable.find(\"tr#\" + rowId + \" .spinner.loading\").addClass('user circle').removeClass('spinner loading');\n\n\t\t\t\t\tif (rowId !== response.data['newId']){\n\t\t\t\t\t\t$(`tr#${rowId}`).attr('id', response.data['newId']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonFailure(response) {\n\t\t\t\tif (response.message !== undefined) {\n\t\t\t\t\tUserMessage.showMultiString(response.message);\n\t\t\t\t}\n\t\t\t\t$(\"tr#\" + recordId + \" .spinner.loading\").addClass('user circle').removeClass('spinner loading');\n\t\t\t},\n\t\t\tonError(errorMessage, element, xhr) {\n\t\t\t\tif (xhr.status === 403) {\n\t\t\t\t\twindow.location = globalRootUrl + \"session/index\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Change some form elements classes depends of module status\n\t */\n\tcheckStatusToggle() {\n\t\tif (window[className].$statusToggle.checkbox('is checked')) {\n\t\t\twindow[className].$disabilityFields.removeClass('disabled');\n\t\t\twindow[className].$moduleStatus.show();\n\t\t} else {\n\t\t\twindow[className].$disabilityFields.addClass('disabled');\n\t\t\twindow[className].$moduleStatus.hide();\n\t\t}\n\t},\n\t/**\n\t * Send command to restart module workers after data changes,\n\t * Also we can do it on TemplateConf->modelsEventChangeData method\n\t */\n\tapplyConfigurationChanges() {\n\t\twindow[className].changeStatus('Updating');\n\t\t$.api({\n\t\t\turl: `${Config.pbxUrl}/pbxcore/api/modules/`+className+`/reload`,\n\t\t\ton: 'now',\n\t\t\tsuccessTest(response) {\n\t\t\t\t// test whether a JSON response is valid\n\t\t\t\treturn Object.keys(response).length > 0 && response.result === true;\n\t\t\t},\n\t\t\tonSuccess() {\n\t\t\t\twindow[className].changeStatus('Connected');\n\t\t\t},\n\t\t\tonFailure() {\n\t\t\t\twindow[className].changeStatus('Disconnected');\n\t\t\t},\n\t\t});\n\t},\n\t/**\n\t * We can modify some data before form send\n\t * @param settings\n\t * @returns {*}\n\t */\n\tcbBeforeSendForm(settings) {\n\t\tconst result = settings;\n\t\tresult.data = window[className].$formObj.form('get values');\n\t\treturn result;\n\t},\n\t/**\n\t * Some actions after forms send\n\t */\n\tcbAfterSendForm() {\n\t\twindow[className].applyConfigurationChanges();\n\t},\n\t/**\n\t * Initialize form parameters\n\t */\n\tinitializeForm() {\n\t\tForm.$formObj = window[className].$formObj;\n\t\tForm.url = `${globalRootUrl}${idUrl}/save`;\n\t\tForm.validateRules = window[className].validateRules;\n\t\tForm.cbBeforeSendForm = window[className].cbBeforeSendForm;\n\t\tForm.cbAfterSendForm = window[className].cbAfterSendForm;\n\t\tForm.initialize();\n\t},\n\t/**\n\t * Update the module state on form label\n\t * @param status\n\t */\n\tchangeStatus(status) {\n\t\tswitch (status) {\n\t\t\tcase 'Connected':\n\t\t\t\twindow[className].$moduleStatus\n\t\t\t\t\t.removeClass('grey')\n\t\t\t\t\t.removeClass('red')\n\t\t\t\t\t.addClass('green');\n\t\t\t\twindow[className].$moduleStatus.html(globalTranslate.module_speech_recognizeConnected);\n\t\t\t\tbreak;\n\t\t\tcase 'Disconnected':\n\t\t\t\twindow[className].$moduleStatus\n\t\t\t\t\t.removeClass('green')\n\t\t\t\t\t.removeClass('red')\n\t\t\t\t\t.addClass('grey');\n\t\t\t\twindow[className].$moduleStatus.html(globalTranslate.module_speech_recognizeDisconnected);\n\t\t\t\tbreak;\n\t\t\tcase 'Updating':\n\t\t\t\twindow[className].$moduleStatus\n\t\t\t\t\t.removeClass('green')\n\t\t\t\t\t.removeClass('red')\n\t\t\t\t\t.addClass('grey');\n\t\t\t\twindow[className].$moduleStatus.html(`<i class=\"spinner loading icon\"></i>${globalTranslate.module_speech_recognizeUpdateStatus}`);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\twindow[className].$moduleStatus\n\t\t\t\t\t.removeClass('green')\n\t\t\t\t\t.removeClass('red')\n\t\t\t\t\t.addClass('grey');\n\t\t\t\twindow[className].$moduleStatus.html(globalTranslate.module_speech_recognizeDisconnected);\n\t\t\t\tbreak;\n\t\t}\n\t},\n};\n\n$(document).ready(() => {\n\twindow[className].initialize();\n});\n\n"],"mappings":"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","ignoreList":[]}